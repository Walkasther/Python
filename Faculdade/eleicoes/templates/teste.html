<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campo Dinâmico</title>
</head>
<body>
    <form>
        <label for="cargo">Escolha o cargo:</label>
        <select id="cargo" name="cargo" onchange="atualizarCampo()">
            <option value="prefeito">Prefeito</option>
            <option value="vereador">Vereador</option>
        </select>

        <label for="numero">Número do Candidato:</label>
        <input type="number" id="numero" min="0" max="99"
               oninput="validarTamanho(this)" required>

        <button type="submit">Enviar</button>
    </form>

    <script>
        function atualizarCampo() {
            const select = document.getElementById('cargo');
            const input = document.getElementById('numero');

            if (select.value === 'prefeito') {
                input.min = 0;
                input.max = 99;
                input.oninput = function () {
                    if (this.value.length > 2) this.value = this.value.slice(0, 2);
                };
            } else if (select.value === 'vereador') {
                input.min = 0;
                input.max = 99999;
                input.oninput = function () {
                    if (this.value.length > 5) this.value = this.value.slice(0, 5);
                };
            }
        }

        function validarTamanho(input) {
            // Limita o valor ao máximo permitido pelo atributo `max`.
            const maxLength = input.max.toString().length;
            if (input.value.length > maxLength) {
                input.value = input.value.slice(0, maxLength);
            }
        }
    </script>
</body>
</html>
